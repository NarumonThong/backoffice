{"remainingRequest":"/Users/Projects/Vuejs/Node_Vue_BackOffice/Frontend/node_modules/babel-loader/lib/index.js!/Users/Projects/Vuejs/Node_Vue_BackOffice/Frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/Projects/Vuejs/Node_Vue_BackOffice/Frontend/src/views/room/RoomList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/Projects/Vuejs/Node_Vue_BackOffice/Frontend/src/views/room/RoomList.vue","mtime":1675007821701},{"path":"/Users/Projects/Vuejs/Node_Vue_BackOffice/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":1673859901490},{"path":"/Users/Projects/Vuejs/Node_Vue_BackOffice/Frontend/node_modules/babel-loader/lib/index.js","mtime":1673859901657},{"path":"/Users/Projects/Vuejs/Node_Vue_BackOffice/Frontend/node_modules/vue-loader/lib/index.js","mtime":1673859901853}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.search\";\nimport _objectSpread from \"/Users/Projects/Vuejs/Node_Vue_BackOffice/Frontend/node_modules/@babel/runtime/helpers/builtin/es6/objectSpread\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Layout from \"@/components/Layout\";\nimport Pagination from \"@/components/Pagination\";\nimport Search from \"@/components/Search\";\nimport { mapState } from \"vuex\";\nimport Axios from \"axios\";\nexport default {\n  data: function data() {\n    return {\n      search: {},\n      page: 1,\n      search_types: [{\n        name: \"ชื่อห้องประชุม\",\n        value: \"r_name\"\n      }, {\n        name: \"ขนาด\",\n        value: \"r_capacity\"\n      }, {\n        name: \"รายละเอียด\",\n        value: \"r_detail\"\n      }]\n    };\n  },\n  computed: _objectSpread({}, mapState([\"rooms\"])),\n  components: {\n    Layout: Layout,\n    Pagination: Pagination,\n    Search: Search\n  },\n  created: function created() {\n    this.$store.dispatch(\"set_rooms\");\n  },\n  methods: {\n    // แก้ไขข้อมูลโดยส่ง id ไปที่หน้า Form create\n    onUpdate: function onUpdate(item) {\n      this.$router.push({\n        name: \"room-form\",\n        query: {\n          id: item.r_id\n        }\n      });\n    },\n    // ลบข้อมูล\n    onDelete: function onDelete(item) {\n      var _this = this;\n\n      this.alertify.confirm(\"คุณต้องการจะลบข้อมูลนี้จริงหรือ?\", function () {\n        Axios.delete(\"/api/room/\".concat(item.r_id)).then(function () {\n          return _this.$store.dispatch(\"set_rooms\");\n        }).catch(function (error) {\n          return _this.alertify.error(error.response.data.message);\n        });\n      });\n    },\n    // การแบ่งหน้า Pagination\n    onPage: function onPage(page) {\n      this.page = page;\n      this.$store.dispatch(\"set_rooms\", _objectSpread({\n        page: this.page\n      }, this.search));\n    },\n    // การค้นหาข้อมูล Filter\n    onSearch: function onSearch(search) {\n      this.search = search;\n      this.page = 1;\n      this.$store.dispatch(\"set_rooms\", _objectSpread({\n        page: this.page\n      }, this.search));\n    }\n  }\n};",{"version":3,"sources":["RoomList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA,OAAA,MAAA,MAAA,qBAAA;AACA,OAAA,UAAA,MAAA,yBAAA;AACA,OAAA,MAAA,MAAA,qBAAA;AACA,SAAA,QAAA,QAAA,MAAA;AACA,OAAA,KAAA,MAAA,OAAA;AACA,eAAA;AACA,MADA,kBACA;AACA,WAAA;AACA,cAAA,EADA;AAEA,YAAA,CAFA;AAGA,oBAAA,CACA;AAAA,cAAA,gBAAA;AAAA,eAAA;AAAA,OADA,EAEA;AAAA,cAAA,MAAA;AAAA,eAAA;AAAA,OAFA,EAGA;AAAA,cAAA,YAAA;AAAA,eAAA;AAAA,OAHA;AAHA,KAAA;AASA,GAXA;AAYA,8BACA,SAAA,CAAA,OAAA,CAAA,CADA,CAZA;AAeA,cAAA;AACA,kBADA;AAEA,0BAFA;AAGA;AAHA,GAfA;AAoBA,SApBA,qBAoBA;AACA,SAAA,MAAA,CAAA,QAAA,CAAA,WAAA;AACA,GAtBA;AAuBA,WAAA;AACA;AACA,YAFA,oBAEA,IAFA,EAEA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA;AAAA,cAAA,WAAA;AAAA,eAAA;AAAA,cAAA,KAAA;AAAA;AAAA,OAAA;AACA,KAJA;AAKA;AACA,YANA,oBAMA,IANA,EAMA;AAAA;;AACA,WAAA,QAAA,CAAA,OAAA,CAAA,kCAAA,EAAA,YAAA;AACA,cAAA,MAAA,qBAAA,KAAA,IAAA,GACA,IADA,CACA;AAAA,iBAAA,MAAA,MAAA,CAAA,QAAA,CAAA,WAAA,CAAA;AAAA,SADA,EAEA,KAFA,CAEA;AAAA,iBAAA,MAAA,QAAA,CAAA,KAAA,CAAA,MAAA,QAAA,CAAA,IAAA,CAAA,OAAA,CAAA;AAAA,SAFA;AAGA,OAJA;AAKA,KAZA;AAaA;AACA,UAdA,kBAcA,IAdA,EAcA;AACA,WAAA,IAAA,GAAA,IAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,WAAA;AACA,cAAA,KAAA;AADA,SAEA,KAAA,MAFA;AAIA,KApBA;AAqBA;AACA,YAtBA,oBAsBA,MAtBA,EAsBA;AACA,WAAA,MAAA,GAAA,MAAA;AACA,WAAA,IAAA,GAAA,CAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,WAAA;AACA,cAAA,KAAA;AADA,SAEA,KAAA,MAFA;AAIA;AA7BA;AAvBA,CAAA","sourcesContent":["<template>\n    <Layout>\n        <div slot=\"buttons\" class=\"form-group\">\n            <router-link class=\"btn\" :to=\"{ name:'room-list' }\">รายการข้อมูล</router-link>\n            <router-link class=\"btn\" :to=\"{ name:'room-form' }\">เพิ่มข้อมูลใหม่</router-link>\n        </div>\n        <div class=\"card\">\n            <div class=\"card-body\">\n                <header class=\"mb-4\">\n                    <Search :types=\"search_types\" @onSearch=\"onSearch($event)\" />\n                    <h5><i class=\"fa fa-list-alt\"></i> รายการข้อมูลห้องประชุม</h5>\n                </header>\n                <table class=\"table\">\n                    <thead>\n                        <tr>\n                            <th>#</th>\n                            <th>ชื่อห้องประชุม</th>\n                            <th>ขนาด</th>\n                            <th>รายละเอียด</th>\n                            <th>วันที่แก้ไขล่าสุด</th>\n                            <th></th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        <tr v-for=\"item in rooms.result\" :key=\"item.r_id\">\n                            <td>\n                                <div class=\"img-container\">\n                                    <img :alt=\"item.r_name\" :src=\"`/api/uploads/${item.r_image}`\">\n                                </div>\n                            </td>\n                            <td>{{ item.r_name }}</td>\n                            <td>{{ item.r_capacity }}</td>\n                            <td>{{ item.r_detail || 'ไม่มีข้อมูล' }}</td>\n                            <td>{{ item.r_updated }}</td>\n                            <td class=\"text-right\">\n                                <i @click=\"onUpdate(item)\" class=\"pointer fa fa-edit text-info mr-3\"></i>\n                                <i @click=\"onDelete(item)\" class=\"pointer fa fa-trash text-danger\"></i>\n                            </td>\n                        </tr>\n                    </tbody>\n                </table>\n\n                <Pagination :data=\"rooms\" :page=\"page\" @onPage=\"onPage($event)\" />\n            </div>\n        </div>\n    </Layout>\n</template>\n\n<script>\nimport Layout from \"@/components/Layout\";\nimport Pagination from \"@/components/Pagination\";\nimport Search from \"@/components/Search\";\nimport { mapState } from \"vuex\";\nimport Axios from \"axios\";\nexport default {\n  data() {\n    return {\n      search: {},\n      page: 1,\n      search_types: [\n        { name: \"ชื่อห้องประชุม\", value: \"r_name\" },\n        { name: \"ขนาด\", value: \"r_capacity\" },\n        { name: \"รายละเอียด\", value: \"r_detail\" }\n      ]\n    };\n  },\n  computed: {\n    ...mapState([\"rooms\"])\n  },\n  components: {\n    Layout,\n    Pagination,\n    Search\n  },\n  created() {\n    this.$store.dispatch(\"set_rooms\");\n  },\n  methods: {\n    // แก้ไขข้อมูลโดยส่ง id ไปที่หน้า Form create\n    onUpdate(item) {\n      this.$router.push({ name: \"room-form\", query: { id: item.r_id } });\n    },\n    // ลบข้อมูล\n    onDelete(item) {\n      this.alertify.confirm(\"คุณต้องการจะลบข้อมูลนี้จริงหรือ?\", () => {\n        Axios.delete(`/api/room/${item.r_id}`)\n          .then(() => this.$store.dispatch(\"set_rooms\"))\n          .catch(error => this.alertify.error(error.response.data.message));\n      });\n    },\n    // การแบ่งหน้า Pagination\n    onPage(page) {\n      this.page = page;\n      this.$store.dispatch(\"set_rooms\", {\n        page: this.page,\n        ...this.search\n      });\n    },\n    // การค้นหาข้อมูล Filter\n    onSearch(search) {\n      this.search = search;\n      this.page = 1;\n      this.$store.dispatch(\"set_rooms\", {\n        page: this.page,\n        ...this.search\n      });\n    }\n  }\n};\n</script>\n\n<style  scoped>\n.btn {\n  color: #ffffff;\n  background-color: #ced4da;\n  margin-right: 7px;\n  min-width: 130px;\n}\n.btn.router-link-active {\n  background-color: #D6DF23;\n}\n</style>\n\n\n"],"sourceRoot":"src/views/room"}]}